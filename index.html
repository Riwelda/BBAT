<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBAT</title>
    <link rel="icon" href="https://raw.githubusercontent.com/Riwelda/BBAT/refs/heads/main/pngikologo.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Quicksand:wght@400&display=swap" rel="stylesheet">
    
    <!-- Lightbox Stil -->
    <style>
        .lightbox-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        .lightbox-overlay img {
            max-width: 90%;
            max-height: 90%;
            border: 5px solid white;
            border-radius: 10px;
        }
        .lightbox-controls {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
            pointer-events: none;
        }
        .lightbox-controls button {
            background: rgba(255, 255, 255, 0.7);
            border: none;
            font-size: 2rem;
            padding: 10px;
            margin: 0 20px;
            border-radius: 50%;
            cursor: pointer;
            pointer-events: auto;
        }
    </style>
</head>

    <header>
        <div class="unilogo">
            <img src="https://github.com/Riwelda/BBAT/blob/main/unilogo.jpg?raw=true" alt="unilogo">
        </div>
        <h1>BİYOLOJİK BİLİMLER ARAŞTIRMA TOPLULUĞU</h1>
        <div class="toplogo">
            <img src="https://raw.githubusercontent.com/Riwelda/BBAT/refs/heads/main/pngikologo.png" alt="Üst Logo">
        </div>
        <div class="menu-toggle" id="menu-toggle">&#9776;</div>
        <nav class="menu" id="menu">
            <ul>
                <li><a href="hakkimizda.html">Hakkımızda</a></li>
                <li><a href="projeler.html">Etkinliklerimiz</a></li>
                <li><a href="iletisim.html">İletişim</a></li>
            </ul>
        </nav>

        <div id="auth-buttons" class="auth-buttons">
            <button id="signup-btn">Kayıt Ol</button>
            <button id="login-btn">Giriş Yap</button>
        </div>

        <div id="user-info" class="auth-buttons" style="display: none;">
            <span id="welcome-text"></span>
            <button id="logout-btn">Çıkış Yap</button>
        </div>
    
    </header>

<main>
    <div class="photo-strip">
        <img src="https://raw.githubusercontent.com/Riwelda/BBAT/refs/heads/main/fenfak.jpeg" alt="Etkinlik Fotoğrafı">
    </div>
    
    <div class="duyurular-container">
        <article class="duyurular">
            <h2>GÜNCEL DUYURULAR!</h2>
            
            <p class="meta"><u>06 Ağustos 2025</u></p>
            <p>
                BBAT WHATSAPP KANALIMIZ AÇILDI!! HERKESE AÇIK ANKETLER, SORU-CEVAPLAR VE DAHASI SİZLERİ BEKLİYOR! 
                <a href="https://whatsapp.com/channel/0029VbAhiY9AInPi7ie7e02H">BURAYA TIKLAYARAK KANALA ULAŞABİLRSİNİZ.</a>
            </p>
            
            <p class="meta"><u>16 EYLÜL 2025</u></p>
    
            <!-- Flex container ile görsel ve metin yan yana -->
            <div class="duyuru-flex">
                <img src="https://raw.githubusercontent.com/Riwelda/BBAT/refs/heads/main/calistayduyurusu.jpg" 
     alt="calistayduyurusu" 
     class="duyuru-img lightbox-trigger gallery-img">
                <div class="duyuru-text">
                    <p>
                        25 Eylül 09.30-17.00 saatleri arasında yapılacak olan çalıştayımıza tüm bilimseverler davetlidir.
                    </p>
                </div>
            </div>
        </article>
    </div>
    
    

   
        
     
    






    <div class="mission-vision-container">
        <article class="mission">
            <h2>MİSYONUMUZ</h2>
            <p class="meta">Yazar: Alper YAMAN | Tarih: 23 Şubat 2025</p>
            <p>BBAT olarak amacımız, Kastamonu Üniversitesi öğrencilerine doğa bilimleri alanında kapsamlı bir eğitim sunarak bilimsel farkındalık kazandırmak, araştırma becerilerini geliştirmek ve doğaya yönelik bilinçli bir bakış açısı oluşturmaktır. Akademik ve saha çalışmalarıyla öğrencileri destekleyerek bilimsel keşiflere katkıda bulunmalarını sağlamak öncelikli hedefimizdir.</p>
        </article>

        <article class="vision">
            <h2>VİZYONUMUZ</h2>
            <p class="meta">Yazar: Alper YAMAN | Tarih: 19 Şubat 2025</p>
            <p>BBAT olarak, doğa bilimleri alanında yetkin, araştırmacı ruhlu ve çevreye duyarlı bireyler yetiştirerek Kastamonu Üniversitesi’nde bilimsel bilginin yaygınlaştırılmasına öncülük etmek istiyoruz. Doğa ve biyolojik bilimler alanında farkındalık oluşturarak, toplumsal ve çevresel sorunlara bilimsel çözümler üreten bir öğrenci topluluğu olmayı hedefliyoruz.</p>
        </article>
    </div>

    <article>
        <h2>Etkinliklerimizin Birkaçı...</h2>
        <p class="meta">Yazar: Alper YAMAN | Tarih: 17 Şubat 2025</p>
        <p>Ilgaz Dağı Milli Parkında mantar yürüyüşü etkinliği, "Sözde Bilim" Konferansı, "Omik Çağında Biyoinformatik" Konulu Sunum, Tanışma kahvaltımız, Çanakkale'deki Biyogaz Tesisi, Bioinnovation 2024 yarışması, "Buzulların Erimesi" Konulu Panel ve daha fazlası "Etkinliklerimiz" sekmesinde sizi bekliyor!</p>

        <div class="etkinlik-container">
            <div class="etkinlik-fotograflar">
                <!-- Galeri görselleri -->
                <img src="https://raw.githubusercontent.com/Riwelda/BBAT/refs/heads/main/etk1.jpg" alt="Etkinlik 1">
                <img src="https://raw.githubusercontent.com/Riwelda/BBAT/refs/heads/main/etk2.jpg" alt="Etkinlik 2">
                <img src="https://raw.githubusercontent.com/Riwelda/BBAT/refs/heads/main/etk3.jpg" alt="Etkinlik 3">
                <img src="https://raw.githubusercontent.com/Riwelda/BBAT/refs/heads/main/etk4.jpg" alt="Etkinlik 4">
                <img src="https://raw.githubusercontent.com/Riwelda/BBAT/refs/heads/main/etk5.jpg" alt="Etkinlik 5">
                <img src="https://raw.githubusercontent.com/Riwelda/BBAT/refs/heads/main/afis26mart2.jpg" alt="Etkinlik 6">
            </div>
        </div>
    </article>
</main>

<footer>
    <p>&copy;  2025 BBAT, Kastamonu Üniversitesine Bağlı Bir Öğrenci Topluluğudur.</p>
</footer>

<!-- Lightbox Yapısı -->
<div class="lightbox-overlay" id="lightbox">
    <div class="lightbox-controls">
        <button id="prev-btn">&#10094;</button>
        <button id="next-btn">&#10095;</button>
    </div>
    <img id="lightbox-img" src="" alt="Büyütülmüş Görsel">
</div>

<!-- Menü ve Galeri Script -->
<script>
    const menuToggle = document.getElementById('menu-toggle');
    const menu = document.getElementById('menu');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');

    // Menü toggle
    menuToggle.addEventListener('click', () => {
        menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    });

    document.addEventListener('click', (e) => {
        if (!menu.contains(e.target) && !menuToggle.contains(e.target)) {
            menu.style.display = 'none';
        }
    });

    // ------------------------
    // Tüm galeriler için dinamik yapı
    const galleries = document.querySelectorAll('.etkinlik-fotograflar, .gallery-row'); // .gallery-row projeler.html satırları olabilir
    galleries.forEach(gallery => {
        const images = Array.from(gallery.querySelectorAll('img'));
        let currentIndex = 0;

        function showImage(index) {
            if(index < 0) index = images.length - 1;
            if(index >= images.length) index = 0;
            currentIndex = index;
            lightboxImg.src = images[currentIndex].src;
            lightbox.style.display = 'flex';
            prevBtn.style.display = 'inline-block';
            nextBtn.style.display = 'inline-block';
        }

        images.forEach((img, index) => {
            img.addEventListener('click', (e) => {
                e.stopPropagation();
                showImage(index);
            });
        });

        prevBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            showImage(currentIndex - 1);
        });

        nextBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            showImage(currentIndex + 1);
        });
    });

    // Tekli galeriler (duyurular vb.)
    const singleImages = document.querySelectorAll('.gallery-img');
    singleImages.forEach(img => {
        img.addEventListener('click', (e) => {
            e.stopPropagation();
            lightboxImg.src = img.src;
            lightbox.style.display = 'flex';
            prevBtn.style.display = 'none';
            nextBtn.style.display = 'none';
        });
    });

    // Overlay tıklama ile kapatma
    lightbox.addEventListener('click', () => {
        lightbox.style.display = 'none';
        lightboxImg.src = '';
    });
</script>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyAdPt8XuUEzJugYI2R9NpUXUCUQXttHaXI",
        authDomain: "bbat-295c4.firebaseapp.com",
        projectId: "bbat-295c4",
        appId: "1:849546748999:web:476431352773d260fcfd62"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    const authButtons = document.getElementById('auth-buttons');
    const userInfo = document.getElementById('user-info');
    const welcomeText = document.getElementById('welcome-text');

    auth.onAuthStateChanged(async (user) => {
        if (user) {
            authButtons.style.display = 'none';
            userInfo.style.display = 'block';

            try {
                const userDoc = await db.collection('users').doc(user.uid).get();
                const username = userDoc.exists ? (userDoc.data().username || user.email.split('@')[0]) : user.email.split('@')[0];
                welcomeText.textContent = `Hoş geldiniz, ${username}`;
            } catch (error) {
                console.error("Kullanıcı adı alınırken hata:", error);
                welcomeText.textContent = `Hoş geldiniz, ${user.email.split('@')[0]}`;
            }
        } else {
            authButtons.style.display = 'block';
            userInfo.style.display = 'none';
            welcomeText.textContent = '';
        }
    });

    // Çıkış yap
    function logout() {
        auth.signOut().then(() => {
            window.location.reload();
        }).catch((error) => {
            alert("Çıkış yapılamadı: " + error.message);
        });
    }

    document.getElementById("signup-btn").addEventListener("click", () => {
        window.location.href = "register.html";
    });

    document.getElementById("login-btn").addEventListener("click", () => {
        window.location.href = "login.html";
    });

    document.getElementById("logout-btn").addEventListener("click", logout);
</script>


    
</body>
</html>
